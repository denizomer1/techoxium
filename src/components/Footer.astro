---
import Social from './Social.astro';
import { t } from '../i18n/utils';

interface Props {
  locale?: string;
}

const { locale = 'tr' } = Astro.props;
const today = new globalThis.Date();
---
<footer>
	&copy; {today.getFullYear()} Techoxium. {t(locale, 'footer.allRightsReserved')}
	<div class="social-links">
		<Social platform="yt" link="https://www.youtube.com/@TechOxium" size="lg" variant="filled" />
		<Social platform="nxt" link="https://sosyal.teknofest.app/@techoxium" size="lg" variant="filled" />
		<Social platform="instagram" link="https://instagram.com/techoxium" size="lg" variant="filled" />
	</div>
</footer>
<style>
	footer {
		padding: 3rem 1rem 4rem 1rem;
		background: linear-gradient(var(--gray-gradient)) no-repeat;
		color: rgb(var(--gray));
		text-align: center;
	}
	
	.social-links {
		display: flex;
		justify-content: center;
		align-items: center;
		gap: 1.5rem;
		margin-top: 2rem;
		padding: 1rem;
		flex-wrap: wrap;
	}
	
	@media (max-width: 480px) {
		.social-links {
			gap: 1rem;
		}
		
		footer {
			padding: 2rem 1rem 3rem 1rem;
		}
	}
</style>

<script>
// Minimal footer hook: add class once DOM is ready (no extra loops)
if (typeof globalThis !== 'undefined' && globalThis.document) {
	const d = globalThis.document;
	(d.readyState === 'loading' ? d.addEventListener('DOMContentLoaded', ready) : ready());
	function ready(){ d.documentElement.classList.add('site-loaded'); }
}
</script>
